{% extends "base.html" %}
{% include 'navbar_horizontal.html' %}

{% block bodycontent %}

    <div class="container-fluid">
        <div class="row my-2">
            <div class="col-12">
                <button 
                    hx-get={{ create }} 
                    hx-target="#modals-here" 
                    hx-trigger="click" 
                    hx-push-url="false"
                    data-bs-toggle="modal"
                    data-bs-target="#modals-here" 
                    class="btn beeb-submit-button-large">Добавить</button>
                </div>
            </div>


<div id="modals-here" class="modal modal-blur fade" style="display: none" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document" >
                <div class="modal-content"></div>
            </div>
    </div>
</div>

<div class="container-fluid my-2">
<table class="table table-hover" style="text-align: center; vertical-align: middle;">
    <tr>
        <th>имя</th>
        <th>сумма</th>
        <th> штук</th>
        <th> грамм</th>
        <th>категория</th>
        <th>дата</th>
        <th>тип</th>
        <th> </th>
        <th> </th>
      </tr>


{% for payment in payments %}
<tr>
    <td scope="row">{{ payment.name }}</td>
    <td>{{ payment.amount_in_rub }}</td>
    <td>{{ payment.quantity if payment.quantity is not none else "—"}}</td>
    <td>{{ payment.grams if payment.grams is not none else "—"}}</td>
    {% if payment.category == 'продукты' %}
        <td>
            <h5><span class="badge" style="
            color: var(--bs-emphasis-color); background-color: var(--bs-secondary-bg);">{{payment.category}}</span></h5> 
        </td>
    {% elif payment.category == 'лишнее' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-danger-text-emphasis);">{{payment.category}}</span></h5> 
    </td>
    {% elif payment.category == 'озон' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-primary-text-emphasis);">{{payment.category}}</span></h5> 
    </td>
    {% elif payment.category == 'такси' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-warning-text-emphasis);">{{payment.category}}</span></h5> 
    </td>
    {% elif payment.category == 'квартплата' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-tertiary-bg);">{{payment.category}}</span></h5> 
    </td>

    {% elif payment.category == 'электричество' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-form-valid-color);">{{payment.category}}</span></h5> 
    </td>

    {% elif payment.category == 'одежда' %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-secondary-text-emphasis);">{{payment.category}}</span></h5> 
    </td>

    {% else %}
    <td>
        <h5><span class="badge" style="
        color: var(--bs-emphasis-color); background-color: var(--bs-tertiary-color);">{{payment.category}}</span></h5> 
    </td>

    {% endif %}
    
    <td>{{ payment.date }} </td>
    <td>
        <h5><span class="badge" style="color: var(--bs-emphasis-color); background-color: var(--bs-tertiary-color);">расход</span></h5> 
    </td>
    <td><a href="{{ update }}/{{payment.id}}" ><i class="material-icons">✏️</i></a></td>

    <form action="{{ delete }}/{{payment.id}}" method="post">
    <td><button class="beeb-delete-button"><i class="material-icons" style="color: var(--bs-body-color);">delete</i></button></td>
    </form>
</tr>
{% endfor %}
</table>

</div>




{% endblock %}