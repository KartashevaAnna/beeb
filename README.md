# Beeb
Проект помогает вести хозяйство. 
Пишу его для себя и своей семьи.


## Проект умеет:
### Аутентифицировать пользователя:
- создать пользователя
- залогинить его (проставить куки)
- на каждой странице проверять по куке, что за пользователь пришёл, и показывать ему контент в зависимости от того, кто это
- аутентификация базовая, без обновления токенов
### Записать, отредактировать и удалить:
- доход
- категорию расходов
- расход на еду (количество в граммах)
- расход на вещь (количество в штуках)
### Считать и записать расход из csv файла
### Показать статистику доходов и расходов:
#### Периоды:
- за всё время
- за год
- за месяц
#### Статистика показывает:
- разбивку по категориям
- баланс на счету
- расход в день
- какого числа закончатся деньги


## Технологии:
- FastAPI
- SQLAlchemy
- PostgreSQL
- Python-Jose
- HTMX
- Docker
- Poetry
- Pytest
- проект не асинхронный, потому что им будут пользоваться только два человека
- загружаю секреты из toml файлов через кастомный config loader, просто чтобы потренироваться. Это требуется, если секреты хранятся, например, в волте. У меня волта нет, и здесь было бы достаточно обычного .env файла.

## Как развернуть проект:
- Клонируйте репозиторий с GitHub
- Создайте базы данных: beeb-test, beeb-dev, beeb-production от имени пользователя postgres с паролем 1234
- Создайте виртуальное окружение: `poetry init`
- Активируйте вирутальное окружение: `poetry shell`
- Установите зависимости: `poetry install`
- Запустите тесты: `make tests`
- Запустите приложение: `make local-run`
- Перейдите на http://127.0.0.1:1818/login. Нажмите кнопку "зарегистрироваться"
- Залогиньтесь
- Перейдите в http://127.0.0.1:1818/docs, перейдите в Dev router. Дёрните /populate-categories и /populate-payments, указывайте айди вашего пользователя
- Перейдите на http://127.0.0.1:1818/, здесь поднято само приложение.

